<!-- /*********************************************************************************************
 * Copyright Â© 2025, Oracle and/or its LST Consultancy Pvt. Ltd., All rights reserved.
 *
 * Name:            LSTCPTR Vendor Bill Split On View (lstcptr_bill_to_process_html.html)
 *
 * Version:         1.0.0   -   14-July-2025 - RS      Initial Development
 *
 * Author:          LiveStrong Technologies
 *
 * Purpose:         Show the vendor bill staging record in split on view.
 *
 *********************************************************************************************/ -->

<script>
    (function() {
        function initPdfViewer() {
            if (typeof jQuery === 'undefined') {
                setTimeout(initPdfViewer, 100);
                return;
            }
            jQuery(document).ready(function() {
                try {
                    console.log('Initializing PDF viewer');
                    var pdfUrl = '{{pdfUrl}}';
                    var showPdfByDefault = '{{showPdfByDefault}}' === 'true';
                    var contextType = '{{contextType}}';
                    
                    console.log('Context Type:', contextType);
                    console.log('Show PDF by default:', showPdfByDefault);

                    var pdfViewerHtml = '<div id="lstcptrOCRSideBySideViewerPane" style="position: fixed; top: 95px; margin: 0px 0px 0px 45%; padding: 0px; height: 100%; z-index: 100; left: -45%; width: 45%; border-right: 1px solid rgb(81, 78, 78);">' +
                        '<iframe id="lstcptrOCRSideBySideViewerFrame" src="' + pdfUrl + '" style="border: none; width: 100%; height: 100%;"></iframe>' +
                        '</div>';
                    jQuery("body").append(pdfViewerHtml);
                    
                    var pdfPane = jQuery("#lstcptrOCRSideBySideViewerPane");
                    if (!showPdfByDefault) {
                        pdfPane.hide();
                        jQuery("#div__body").css({
                            "margin-left": "0%",
                            "width": "100%"
                        });
                    } else {
                        pdfPane.show();
                        jQuery("#div__body").css({
                            "margin-left": "45%",
                            "width": "55%"
                        });
                    }

                    console.log('PDF viewer initialized');
                } catch (error) {
                    console.error('Error initializing PDF viewer:', error);
                }
            });
        }
        initPdfViewer();

        window.togglePdfVisibility = function() {
            var pdfPane = jQuery("#lstcptrOCRSideBySideViewerPane");
            if (pdfPane.is(":visible")) {
                pdfPane.hide();
                jQuery("#div__body").css({
                    "margin-left": "0%",
                    "width": "100%"
                });
            } else {
                pdfPane.show();
                jQuery("#div__body").css({
                    "margin-left": "45%",
                    "width": "55%"
                });
            }
        };
    })();
</script>